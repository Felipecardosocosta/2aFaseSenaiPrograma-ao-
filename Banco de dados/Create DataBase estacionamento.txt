CREATE DATABASE estacionamento;

USE estacionamento;

CREATE TABLE ticket (
id_ticket INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
codigo_barra INT,
observacao TEXT
);

CREATE TABLE estacionamento(
id_estacionamento INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(45),
cnpj BIGINT,
ticket_id INT,
FOREIGN KEY(ticket_id)
REFERENCES ticket (id_ticket)
);

CREATE TABLE setor(
id_setor INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(45),
descricao VARCHAR(45),
estacinamento_id INT,
FOREIGN KEY(estacinamento_id )
REFERENCES estacionamento (id_estacionamento)
);

CREATE TABLE vaga (
id_vaga INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
numero_vagas INT,
setor_id INT,
FOREIGN KEY(setor_id)
REFERENCES setor (id_setor)

);

ALTER TABLE estacionamento
DROP FOREIGN KEY estacionamento_ibfk_1;

DROP TABLE ticket;




ALTER TABLE estacionamento
ADD FOREIGN KEY (ticket_id)
REFERENCES ticket (id_ticket);




ALTER TABLE ticket
ADD COLUMN descricao VARCHAR(50);



ALTER TABLE estacionamento
MODIFY COLUMN nome VARCHAR(100);

ALTER TABLE ticket
DROP COLUMN descricao;


-- TEM QUE SER PREENCHER
ALTER TABLE ticket
ADD COLUMN descricao VARCHAR(50) UNIQUE;


-- PREENCHE AUTOMATICO CASO NAO RECEBA DADOS 

ALTER TABLE ticket
ADD COLUMN descricao VARCHAR(50) DEFAULT("BRASIL");

-- alterar nome coluna
ALTER TABLE ticket
RENAME COLUMN codigo_barra TO codigo;

-- alterar nome tabela
ALTER TABLE ticket
RENAME TO ticke;




-- consutar dados da tabela
SELECT * FROM setor;

-- consutar tipos de dados da tabela

DESCRIBE setor;




